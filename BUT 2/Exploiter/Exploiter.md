<link rel="stylesheet" href="../style.css">

### Aksel

### CAUBEL

#### RT2 IOM

<h1 class=headerTemplate style="text-align:center;">Exploiter</h1>

<# Intégrer des systèmes d'exploitation embarqués

<# Mettre en oeuvre des protocoles pour les réseaux

# Mettre en oeuvre des applications et traiter des données issues des objets connectés

Pour vous parlez d'une application IOT concrète:
Lors de mon apprentissage aux seins de la Menuiserie Carayon, j'ai pu et je continue de développer une application IOT nommé VNA-systeme pour Ventilation Naturelle Autonome. Cette application à nécéssiter des choix d'autant plus que nous travaillons en collaboration avec PUIG Mathieu pour répondre au mieux aux attentes de l'entreprise et avoir une expérience utilisateur des plus agréable.

L'application pour sa première version est représentable de cette manière :

Des capteurs de Température / PPM (Co2) / Pression atmosphérique / Humidité sont disposés chez des clients.
La data est remonté via le protocole de communication LoRaWAN jusqu'à un serveur dans le cloud contenant un Application Network et un Server Network (ChirpStack). Un Network Server est un service permettant de géré la partie de la communication LoRaWAN en gérant la fréquence, en fesant attention aux collisions etc... Un Application Server quand a lui permet de faire le lien entre les devices et la retranmission de la data pour les différentes applications. Ici les données seront envoyé par l'application Server vers un broker MQTT de type Mosquitto (port de fonctionnement 1883/8883->MQTTS).

Un premier décodage est fait pour ensuite être renvoyé sur un nouveau sujet MQTT qui sera écouté par un un service "MQTT_Collector" fait en python par mes soins. Ce dernier permet que cette fois la data soit analysée pour en faire une gestion des erreurs ainsi que l'envoyer sur notre base de donnée de type InfluxDB ( port de fonctionnement 8086). Ce système de MQTT_Collector aurait pu se faire avec Telegraph, une application courante de scrapping pour récolter les données sur InfluxDB mais pour des raisons de contrôle total de gestion avec tous les degrés de liberté possible, nous avons fait le choix de crée nous même se système.

Une fois l'enregistrement des données faites il nous suffit d'une interface machine pour que notre boucle soit bouclé.

Etat donné que nous somme sur un projet et avons une dead-line courant Février nous avons du presser le pas et pour crée cette interface Homme-Machine nous sommes de connaissance. N'aillant pas le temps de se former en un lapse de temps aussi court au langage de programmation Java ainsi qu'à React, qui aurait été notre premier choix. Nous sommes parti sur la solution de Django. Aillant déjà eux une première expérience en Django nous avons pu démarrer rapidement le développement du site.

Pour le site nous avons opté pour l'utilisation d'une deuxième base de donnée avec une manière d'ordonnée les données différentes et plus adéquois : PostgreSQL. 

La façon de stockage des données n'est pas comme InfluxDB. InfluxDB va être un choix IOT très intéressant puisque les Clée Primaire sont le Temps mais pour une utilisation de stockage des utilisateurs ou autres données d'un site WEB, l'utilisation d'une base de donnée pouvant utiliser un Identifiant comme Clée Primaire est plus intéressante.

Comme dit précédement nous utilisons Django, cette application est donc crée en python sous forme de models, de vues et de templates.

Extrait du site : 

![VNA-systeme](./image/vna-systeme_web_extrait.JPG)